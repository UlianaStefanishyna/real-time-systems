<!--<html lang="EN">-->
<!--<header><title>app</title></header>-->
<!--<body>-->
<!--Sping Boot Application is running and listening port 8080-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE HTML>
<html>
<head>
    <script type="text/javascript">
        window.onload = function () {

            var xhr = new XMLHttpRequest();

            xhr.open("POST", "/chart", true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify({
                "amount_of_harmonic": 14,
                "points_amount": 256,
                "frequency": 2000
            }));

            xhr.onreadystatechange = (e) =>
            {
                var arr = [];
                console.log(xhr.responseText);
                var jsonData = JSON.parse(xhr.responseText);
                for (var i = 0; i < jsonData.points.length; i++) {
                    var point = jsonData.points[i];
                    arr.push({
                        label: point.time,
                        x: point.time,
                        y: point.value
                    });
                }
                console.log(arr);
                var chart1 = new CanvasJS.Chart("chartContainer", {
                    title: {
                        text: "Harmonics data"
                    },
                    data: [{
                        type: "line", // "area", "column"
                        dataPoints: arr
                    }]
                });
                chart1.render();
            }
        }
    </script>
</head>
<body>
<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
</html>